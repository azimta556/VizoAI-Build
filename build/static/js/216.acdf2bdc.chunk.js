"use strict";(self.webpackChunkdemo6=self.webpackChunkdemo6||[]).push([[216],{4216:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var s=t(2919),l=t(4942),r=t(1413),o=t(9439),i=t(2791),n=(t(7460),t(7303)),d=(t(5462),t(6871)),c=t(9355),m=t(8687),u=t(184),x=(0,m.$j)((function(e){return{datasourcemonitor:e.Dataoperation.datasourcemonitor}}),(function(e){return{addDatasourcemonitor:function(a){e((0,c.VZ)(a))}}}))((function(e){var a,t=(0,d.s0)(),s=(0,i.useState)({name:"",datasource:"",categories:"CRITICAL",query:""}),c=(0,o.Z)(s,2),m=c[0],x=c[1],h=(0,i.useState)({name:"",datasource:"",categories:"",query:""}),p=(0,o.Z)(h,2),f=(p[0],p[1]);(0,i.useEffect)((function(){console.log("create useeffe",null===e||void 0===e?void 0:e.addDatasourcemonitor())}),[]);var b=function(e){var a=e.target,t=a.name,s=a.value;x((0,r.Z)((0,r.Z)({},m),{},(0,l.Z)({},t,s)))},v=function(){var a=!0,t={};return m.name?t.name="":(a=!1,t.name="Enter a name"),null!==e&&void 0!==e&&e.datasourcemonitor?t.datasource="":(a=!1,t.datasource="Enter a datasource"),m.categories?t.categories="":(a=!1,t.categories="Enter a categories"),m.query?t.query="":(a=!1,t.query="Enter a query"),f(t),a};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,u.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container d-flex flex-stack container-fluid",style:{paddingLeft:"3px",paddingRight:"3px"},children:(0,u.jsxs)("div",{id:"kt_page_title","data-kt-swapper":"true","data-kt-swapper-mode":"prepend","data-kt-swapper-parent":"{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}",className:"page-title d-flex flex-wrap me-3 flex-column justify-content-center",children:[(0,u.jsx)("h1",{className:"page-heading d-flex text-gray-900 fw-bold fs-3 my-0 flex-column justify-content-center",children:"Create Monitor"}),(0,u.jsxs)("ul",{className:"breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1",children:[(0,u.jsx)("li",{className:"breadcrumb-item text-muted",children:(0,u.jsxs)("a",{href:"/metronic8/demo1/../demo1/index.html",className:"text-muted text-hover-primary",children:["Home"," "]})}),(0,u.jsx)("li",{className:"breadcrumb-item",children:(0,u.jsx)("span",{className:"bullet bg-gray-500 w-5px h-2px"})}),(0,u.jsx)("li",{className:"breadcrumb-item text-muted",children:"Dashboard"}),(0,u.jsx)("li",{className:"breadcrumb-item",children:(0,u.jsx)("span",{className:"bullet bg-gray-500 w-5px h-2px"})}),(0,u.jsx)("li",{className:"breadcrumb-item text-muted",children:"Monitoring Dashboard"}),(0,u.jsx)("li",{className:"breadcrumb-item",children:(0,u.jsx)("span",{className:"bullet bg-gray-500 w-5px h-2px"})}),(0,u.jsx)("li",{className:"breadcrumb-item text-muted",children:"Create Monitor"})]})]})})}),(0,u.jsxs)("div",{className:"card",children:[(0,u.jsx)("div",{className:"card-header",children:(0,u.jsx)("div",{className:"card-title fs-3 fw-bold",children:"Create Monitor"})}),(0,u.jsxs)("form",{id:"kt_project_settings_form",className:"form",children:[(0,u.jsxs)("div",{className:"card-body p-9",children:[(0,u.jsxs)("div",{className:"row mb-8",children:[(0,u.jsx)("div",{className:"col-xl-3",children:(0,u.jsx)("div",{className:"fs-6 fw-semibold mt-2 mb-3",children:"Name"})}),(0,u.jsx)("div",{className:"col-xl-9 fv-row",children:(0,u.jsx)("input",{type:"text",className:"form-control form-control-solid",name:"name",defaultValue:"",value:m.name,onChange:b})})]}),(0,u.jsxs)("div",{className:"row mb-8",children:[(0,u.jsx)("div",{className:"col-xl-3",children:(0,u.jsx)("div",{className:"fs-6 fw-semibold mt-2 mb-3",children:"Datasource"})}),console.log("props?.datasourcemonitor",null===e||void 0===e?void 0:e.datasourcemonitor),(0,u.jsx)("div",{className:"col-xl-6  ",style:{display:"flex"},children:(0,u.jsx)("input",{type:"text",className:"form-control form-control-solid",name:"datasource",disabled:!0,defaultValue:"",value:(null===e||void 0===e||null===(a=e.datasourcemonitor)||void 0===a?void 0:a.name)||"",onChange:b})}),(0,u.jsx)("a",{href:"#",style:{padding:"12px",width:"150px"},className:"btn btn-sm fw-bold btn-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_upgrade_plan",children:"Select Data Source"})]}),(0,u.jsxs)("div",{className:"row mb-8",children:[(0,u.jsx)("div",{className:"col-xl-3",children:(0,u.jsx)("div",{className:"fs-6 fw-semibold mt-2 mb-3",children:"Query"})}),(0,u.jsx)("div",{className:"col-xl-9 fv-row",children:(0,u.jsx)("textarea",{name:"query",className:"form-control form-control-solid h-100px",defaultValue:"",value:m.query,onChange:b})})]}),(0,u.jsxs)("div",{className:"row mb-8",children:[(0,u.jsx)("div",{className:"col-xl-3",children:(0,u.jsx)("div",{className:"fs-6 fw-semibold mt-2 mb-3",children:"Categories"})}),(0,u.jsx)("div",{className:"col-xl-9 fv-row",children:(0,u.jsxs)("select",{name:"categories","data-control":"select2","data-placeholder":"Select a Category...",className:"form-select form-select-solid select2-hidden-accessible","data-select2-id":"select2-data-9-4ka5",tabIndex:-1,"aria-hidden":"true","data-kt-initialized":1,value:m.categories,onChange:b,children:[(0,u.jsx)("option",{value:"CRITICAL","data-select2-id":"select2-data-11-tdo3",children:"Critical"}),(0,u.jsx)("option",{value:"HIGH","data-select2-id":"select2-data-127-ovaw",children:"High"}),(0,u.jsx)("option",{value:"MEDIUM","data-select2-id":"select2-data-128-6gou",children:"Medium"}),(0,u.jsx)("option",{value:"LOW","data-select2-id":"select2-data-129-m3ln",children:"Low"})]})})]})]}),(0,u.jsxs)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:[(0,u.jsx)("button",{type:"reset",className:"btn btn-light btn-active-light-primary me-2",children:"Discard"}),(0,u.jsxs)("button",{type:"submit",className:"btn btn-primary",id:"kt_project_settings_submit",onClick:function(a){if(a.preventDefault(),v()){var s,l,r=[],o={};o.name=m.name,o.datasourceName=null===e||void 0===e||null===(s=e.datasourcemonitor)||void 0===s?void 0:s.name,o.datasourceId=null===e||void 0===e||null===(l=e.datasourcemonitor)||void 0===l?void 0:l.datasourceId,o.categories=m.categories,o.query=m.query,o.clientId="client1",o.intervalType="TIME",o.intervalValue=50,r.push(o),console.log("sub",o,v(),null===e||void 0===e?void 0:e.datasourcemonitor),fetch("http://localhost:8081/api/monitors",{body:JSON.stringify(r),headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(a){console.log("response",a),201==a.status?(setTimeout((function(){t("/dashboard/monitoring-dashboard/view-monitoringdashboard/")}),1500),n.Am.success(m.name+" added successfully"),null===e||void 0===e||e.addDatasourcemonitor(),setTimeout((function(){}),1500)):n.Am.error("failed")})).catch((function(e){console.error("Error fetching data:",e)}))}else console.log("Validation failed")},children:["Create",(0,u.jsx)(n.Ix,{})]})]})]})]})]})})),h=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.V1,{breadcrumbs:[],children:"Create Monitoring"}),(0,u.jsx)(x,{})]})}}}]);
//# sourceMappingURL=216.acdf2bdc.chunk.js.map