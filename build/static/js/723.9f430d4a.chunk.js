"use strict";(self.webpackChunkdemo6=self.webpackChunkdemo6||[]).push([[723],{8723:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var s=t(2919),l=t(4942),r=t(1413),c=t(9439),n=t(2791),d=(t(7460),t(9355)),i=t(8687),o=t(7303),m=t(6871),p=t(184),u=(0,i.$j)((function(e){return{selectmarketplacetype:e.Dataoperation.selectmarketplacetype}}),(function(e){return{selectMarketplacetype:function(a){e((0,d.M2)(a))}}}))((function(e){var a,t=(0,m.s0)(),s=(0,n.useState)({datasourcename:"",marketplacetype:""}),d=(0,c.Z)(s,2),i=d[0],u=d[1],x=(0,n.useState)({datasourcename:"",marketplacetype:""}),b=(0,c.Z)(x,2),f=(b[0],b[1]),h=function(e){var a=e.target,t=a.name,s=a.value;u((0,r.Z)((0,r.Z)({},i),{},(0,l.Z)({},t,s)))},j=function(){var a=!0,t={};return i.datasourcename?t.datasourcename="":(a=!1,t.datasourcename="Enter a datasourcename"),null!==e&&void 0!==e&&e.selectmarketplacetype?t.marketplacetype="":(a=!1,t.marketplacetype="Enter a marketplacetype"),f(t),a};return(0,n.useEffect)((function(){console.log("data-bs-dismiss",null===e||void 0===e?void 0:e.selectmarketplacetype)}),[null===e||void 0===e?void 0:e.selectmarketplacetype]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,p.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container d-flex flex-stack container-fluid",style:{paddingLeft:"3px",paddingRight:"3px"},children:(0,p.jsxs)("div",{id:"kt_page_title","data-kt-swapper":"true","data-kt-swapper-mode":"prepend","data-kt-swapper-parent":"{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}",className:"page-title d-flex flex-wrap me-3 flex-column justify-content-center",children:[(0,p.jsx)("h1",{className:"page-heading d-flex text-gray-900 fw-bold fs-3 my-0 flex-column justify-content-center",children:"Create Data Source"}),(0,p.jsxs)("ul",{className:"breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1",children:[(0,p.jsx)("li",{className:"breadcrumb-item text-muted",children:(0,p.jsxs)("a",{href:"/metronic8/demo1/../demo1/index.html",className:"text-muted text-hover-primary",children:["Home"," "]})}),(0,p.jsx)("li",{className:"breadcrumb-item",children:(0,p.jsx)("span",{className:"bullet bg-gray-500 w-5px h-2px"})}),(0,p.jsx)("li",{className:"breadcrumb-item text-muted",children:"Dashboard"}),(0,p.jsx)("li",{className:"breadcrumb-item",children:(0,p.jsx)("span",{className:"bullet bg-gray-500 w-5px h-2px"})}),(0,p.jsx)("li",{className:"breadcrumb-item text-muted",children:"Data Dashboard"}),(0,p.jsx)("li",{className:"breadcrumb-item",children:(0,p.jsx)("span",{className:"bullet bg-gray-500 w-5px h-2px"})}),(0,p.jsx)("li",{className:"breadcrumb-item text-muted",children:"Create Data Source"})]})]})})}),(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"card-header",children:(0,p.jsx)("div",{className:"card-title fs-3 fw-bold",children:"Create Data Source"})}),(0,p.jsxs)("form",{id:"kt_project_settings_form",className:"form",children:[(0,p.jsxs)("div",{className:"card-body p-9",children:[(0,p.jsx)("div",{className:"row mb-5"}),(0,p.jsxs)("div",{className:"row mb-8",children:[(0,p.jsx)("div",{className:"col-xl-3",children:(0,p.jsx)("div",{className:"fs-6 fw-semibold mt-2 mb-3",children:"Data Source Name"})}),(0,p.jsx)("div",{className:"col-xl-9 fv-row",children:(0,p.jsx)("input",{type:"text",className:"form-control form-control-solid",name:"datasourcename",defaultValue:"",onChange:h})})]}),(0,p.jsxs)("div",{className:"row mb-8",children:[(0,p.jsx)("div",{className:"col-xl-3",children:(0,p.jsx)("div",{className:"fs-6 fw-semibold mt-2 mb-3",children:"API Type"})}),(0,p.jsx)("div",{className:"col-xl-6 fv-row",children:(0,p.jsx)("input",{type:"text",className:"form-control form-control-solid",name:"marketplace",defaultValue:"",value:null===e||void 0===e||null===(a=e.selectmarketplacetype)||void 0===a?void 0:a.apiName,onChange:h,disabled:!0})}),(0,p.jsx)("a",{href:"#",style:{padding:"12px",width:"150px"},className:"btn btn-sm fw-bold btn-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_top_up_wallet",children:"Select API"})]})]}),(0,p.jsxs)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:[(0,p.jsx)("button",{type:"reset",className:"btn btn-light btn-active-light-primary me-2",children:"Discard"}),(0,p.jsx)("button",{type:"submit",className:"btn btn-primary",id:"kt_project_settings_submit",onClick:function(a){if(a.preventDefault(),j()){var s,l,r,c={};c.name=i.datasourcename,c.type=null===e||void 0===e||null===(s=e.selectmarketplacetype)||void 0===s?void 0:s.apiName,c.ipAddress=null===e||void 0===e||null===(l=e.selectmarketplacetype)||void 0===l?void 0:l.ipAddress,c.portNumber=null===e||void 0===e||null===(r=e.selectmarketplacetype)||void 0===r?void 0:r.portno,console.log("sub",c,j()),fetch("http://localhost:8084/api/datasources",{body:JSON.stringify(c),headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(a){console.log("response",a),201==a.status?(setTimeout((function(){t("/dashboard/data-dashboard/datasourcelist/")}),1500),o.Am.success(i.datasourcename+" added successfully"),e.selectMarketplacetype()):o.Am.error("failed")})).catch((function(e){console.error("Error fetching data:",e)}))}else console.log("Validation failed")},children:"Create"}),(0,p.jsx)(o.Ix,{})]})]})]})]})})),x=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.V1,{breadcrumbs:[],children:"Create Data Source"}),(0,p.jsx)(u,{})]})}}}]);
//# sourceMappingURL=723.9f430d4a.chunk.js.map